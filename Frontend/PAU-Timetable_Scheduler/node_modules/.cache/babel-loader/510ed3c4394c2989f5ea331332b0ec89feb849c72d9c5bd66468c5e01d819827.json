{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jamil\\\\Downloads\\\\Timetable Scheduler Combined\\\\SEPT 13 FRONTEND HOSTER\\\\PAU-Timetable_Scheduler\\\\src\\\\components\\\\TimetableGenerator.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Header from './Header';\nimport FileUpload from './FileUpload';\nimport TimetableResults from './TimetableResults';\nimport InstructionsModal from './InstructionsModal';\nimport { uploadFile, generateTimetable, downloadTimetable } from '../services/api.js';\nimport './TimetableGenerator.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TimetableGenerator = () => {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [uploadId, setUploadId] = useState(null); // Track upload ID for downloads\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [progressText, setProgressText] = useState('');\n  const [generatedData, setGeneratedData] = useState([]);\n  const [showInstructions, setShowInstructions] = useState(false);\n  const [error, setError] = useState('');\n  const handleFileSelect = file => {\n    console.log('File selected:', file);\n    setSelectedFile(file);\n    setError('');\n    setGeneratedData([]);\n    setUploadId(null); // Reset upload ID\n  };\n  const handleFileReset = () => {\n    console.log('Resetting file selection');\n    setSelectedFile(null);\n    setUploadId(null);\n    setIsProcessing(false);\n    setProgress(0);\n    setProgressText('');\n    setGeneratedData([]);\n    setError('');\n  };\n  const handleGenerate = async () => {\n    if (!selectedFile || isProcessing) {\n      console.log('Cannot generate: no file selected or already processing');\n      return;\n    }\n    console.log('Starting timetable generation...');\n    setIsProcessing(true);\n    setError('');\n    setGeneratedData([]);\n    setProgress(5);\n    setProgressText('Preparing upload...');\n    try {\n      // Upload file\n      setProgress(10);\n      setProgressText('Uploading file...');\n      console.log('Uploading file:', selectedFile.name);\n      const uploadResponse = await uploadFile(selectedFile);\n      console.log('Upload response:', uploadResponse);\n\n      // Extract uploadId from response - be very defensive\n      const currentUploadId = (uploadResponse === null || uploadResponse === void 0 ? void 0 : uploadResponse.uploadId) || (uploadResponse === null || uploadResponse === void 0 ? void 0 : uploadResponse.upload_id) || (uploadResponse === null || uploadResponse === void 0 ? void 0 : uploadResponse.fileId) || (uploadResponse === null || uploadResponse === void 0 ? void 0 : uploadResponse.id) || (uploadResponse === null || uploadResponse === void 0 ? void 0 : uploadResponse.meta) && (uploadResponse.meta.upload_id || uploadResponse.meta.uploadId || uploadResponse.meta.id);\n      console.log('Extracted upload ID:', currentUploadId);\n      if (!currentUploadId) {\n        throw new Error('Upload ID not returned by server. Response: ' + JSON.stringify(uploadResponse));\n      }\n\n      // Store the upload ID for later use\n      setUploadId(currentUploadId);\n\n      // Start generation with progress updates\n      setProgress(30);\n      setProgressText('Starting timetable generation...');\n      const progressCallback = progressData => {\n        console.log('Progress update:', progressData);\n        if (!progressData) return;\n        const pct = typeof progressData.percentage === 'number' ? progressData.percentage : null;\n        if (pct !== null) {\n          const clampedProgress = Math.min(Math.max(pct, 30), 95); // Keep between 30-95%\n          setProgress(clampedProgress);\n        }\n        if (progressData.message) {\n          setProgressText(progressData.message);\n        }\n      };\n\n      // Generate timetable using the upload ID\n      console.log('Generating timetable with ID:', currentUploadId);\n      const timetableData = await generateTimetable(currentUploadId, progressCallback);\n      console.log('Timetable generation completed:', timetableData);\n\n      // Extract timetables from response - handle different response formats\n      let timetables = [];\n      if (timetableData) {\n        var _timetableData$data;\n        // Try different possible locations for timetable data\n        timetables = timetableData.timetables || ((_timetableData$data = timetableData.data) === null || _timetableData$data === void 0 ? void 0 : _timetableData$data.timetables) || timetableData.results || (Array.isArray(timetableData) ? timetableData : []);\n      }\n      console.log('Extracted timetables:', timetables);\n\n      // Validate the timetables data\n      if (!Array.isArray(timetables)) {\n        console.warn('Timetables is not an array, converting:', timetables);\n        timetables = timetables ? [timetables] : [];\n      }\n\n      // Set final progress and results\n      setProgress(100);\n      setProgressText('Complete!');\n      setGeneratedData(timetables);\n\n      // Show completion message briefly\n      setTimeout(() => {\n        setIsProcessing(false);\n        setProgress(0);\n        setProgressText('');\n        // Do not set an error if empty; allow Dash UI to open and guide the user\n      }, 1500);\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response2, _err$response2$data;\n      console.error('Timetable generation error:', err);\n\n      // Handle different error formats\n      let errorMessage = 'An error occurred while generating the timetable';\n      if (err !== null && err !== void 0 && (_err$response = err.response) !== null && _err$response !== void 0 && (_err$response$data = _err$response.data) !== null && _err$response$data !== void 0 && _err$response$data.error) {\n        errorMessage = err.response.data.error;\n      } else if (err !== null && err !== void 0 && (_err$response2 = err.response) !== null && _err$response2 !== void 0 && (_err$response2$data = _err$response2.data) !== null && _err$response2$data !== void 0 && _err$response2$data.message) {\n        errorMessage = err.response.data.message;\n      } else if (err !== null && err !== void 0 && err.message) {\n        errorMessage = err.message;\n      }\n      setError(errorMessage);\n      setIsProcessing(false);\n      setProgress(0);\n      setProgressText('');\n    }\n  };\n  const handleDownload = async format => {\n    if (!uploadId) {\n      setError('No timetable data available for download - missing upload ID');\n      return;\n    }\n    if (generatedData.length === 0) {\n      setError('No timetable data available for download - no generated data');\n      return;\n    }\n    console.log(`Starting download: ${format} format for upload ID: ${uploadId}`);\n    try {\n      await downloadTimetable(uploadId, format);\n      console.log('Download completed successfully');\n    } catch (err) {\n      var _err$response3, _err$response3$data, _err$response4, _err$response4$data;\n      console.error('Download error:', err);\n      let errorMessage = 'An error occurred while downloading';\n      if (err !== null && err !== void 0 && (_err$response3 = err.response) !== null && _err$response3 !== void 0 && (_err$response3$data = _err$response3.data) !== null && _err$response3$data !== void 0 && _err$response3$data.error) {\n        errorMessage = err.response.data.error;\n      } else if (err !== null && err !== void 0 && (_err$response4 = err.response) !== null && _err$response4 !== void 0 && (_err$response4$data = _err$response4.data) !== null && _err$response4$data !== void 0 && _err$response4$data.message) {\n        errorMessage = err.response.data.message;\n      } else if (err !== null && err !== void 0 && err.message) {\n        errorMessage = err.message;\n      }\n      setError(errorMessage);\n    }\n  };\n\n  // Debug log for component state\n  console.log('TimetableGenerator state:', {\n    selectedFile: selectedFile === null || selectedFile === void 0 ? void 0 : selectedFile.name,\n    uploadId,\n    isProcessing,\n    progress,\n    generatedDataLength: generatedData.length,\n    error\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"timetable-generator\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      onShowInstructions: () => setShowInstructions(true),\n      onDownload: handleDownload,\n      canDownload: generatedData.length > 0 && uploadId && !isProcessing\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(FileUpload, {\n        selectedFile: selectedFile,\n        onFileSelect: handleFileSelect,\n        onFileReset: handleFileReset,\n        onGenerate: handleGenerate,\n        isProcessing: isProcessing,\n        progress: progress,\n        progressText: progressText,\n        error: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), uploadId && !isProcessing && /*#__PURE__*/_jsxDEV(TimetableResults, {\n        uploadId: uploadId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        style: {\n          color: '#dc3545',\n          backgroundColor: '#f8d7da',\n          border: '1px solid #f5c6cb',\n          borderRadius: '4px',\n          padding: '12px',\n          marginTop: '16px',\n          fontSize: '14px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Error:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this), \" \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InstructionsModal, {\n      isOpen: showInstructions,\n      onClose: () => setShowInstructions(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n};\n_s(TimetableGenerator, \"O3wfd+d8xjlLWQXEJnUPKwYitPU=\");\n_c = TimetableGenerator;\nexport default TimetableGenerator;\nvar _c;\n$RefreshReg$(_c, \"TimetableGenerator\");","map":{"version":3,"names":["React","useState","Header","FileUpload","TimetableResults","InstructionsModal","uploadFile","generateTimetable","downloadTimetable","jsxDEV","_jsxDEV","TimetableGenerator","_s","selectedFile","setSelectedFile","uploadId","setUploadId","isProcessing","setIsProcessing","progress","setProgress","progressText","setProgressText","generatedData","setGeneratedData","showInstructions","setShowInstructions","error","setError","handleFileSelect","file","console","log","handleFileReset","handleGenerate","name","uploadResponse","currentUploadId","upload_id","fileId","id","meta","Error","JSON","stringify","progressCallback","progressData","pct","percentage","clampedProgress","Math","min","max","message","timetableData","timetables","_timetableData$data","data","results","Array","isArray","warn","setTimeout","err","_err$response","_err$response$data","_err$response2","_err$response2$data","errorMessage","response","handleDownload","format","length","_err$response3","_err$response3$data","_err$response4","_err$response4$data","generatedDataLength","className","children","onShowInstructions","onDownload","canDownload","fileName","_jsxFileName","lineNumber","columnNumber","onFileSelect","onFileReset","onGenerate","style","color","backgroundColor","border","borderRadius","padding","marginTop","fontSize","isOpen","onClose","_c","$RefreshReg$"],"sources":["C:/Users/Jamil/Downloads/Timetable Scheduler Combined/SEPT 13 FRONTEND HOSTER/PAU-Timetable_Scheduler/src/components/TimetableGenerator.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Header from './Header';\r\nimport FileUpload from './FileUpload';\r\nimport TimetableResults from './TimetableResults';\r\nimport InstructionsModal from './InstructionsModal';\r\nimport { uploadFile, generateTimetable, downloadTimetable } from '../services/api.js';\r\nimport './TimetableGenerator.css';\r\n\r\nconst TimetableGenerator = () => {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [uploadId, setUploadId] = useState(null); // Track upload ID for downloads\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [progressText, setProgressText] = useState('');\r\n  const [generatedData, setGeneratedData] = useState([]);\r\n  const [showInstructions, setShowInstructions] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleFileSelect = (file) => {\r\n    console.log('File selected:', file);\r\n    setSelectedFile(file);\r\n    setError('');\r\n    setGeneratedData([]);\r\n    setUploadId(null); // Reset upload ID\r\n  };\r\n\r\n  const handleFileReset = () => {\r\n    console.log('Resetting file selection');\r\n    setSelectedFile(null);\r\n    setUploadId(null);\r\n    setIsProcessing(false);\r\n    setProgress(0);\r\n    setProgressText('');\r\n    setGeneratedData([]);\r\n    setError('');\r\n  };\r\n\r\n  const handleGenerate = async () => {\r\n    if (!selectedFile || isProcessing) {\r\n      console.log('Cannot generate: no file selected or already processing');\r\n      return;\r\n    }\r\n\r\n    console.log('Starting timetable generation...');\r\n    setIsProcessing(true);\r\n    setError('');\r\n    setGeneratedData([]);\r\n    setProgress(5);\r\n    setProgressText('Preparing upload...');\r\n\r\n    try {\r\n      // Upload file\r\n      setProgress(10);\r\n      setProgressText('Uploading file...');\r\n      console.log('Uploading file:', selectedFile.name);\r\n      \r\n      const uploadResponse = await uploadFile(selectedFile);\r\n      console.log('Upload response:', uploadResponse);\r\n\r\n      // Extract uploadId from response - be very defensive\r\n      const currentUploadId =\r\n        uploadResponse?.uploadId ||\r\n        uploadResponse?.upload_id ||\r\n        uploadResponse?.fileId ||\r\n        uploadResponse?.id ||\r\n        (uploadResponse?.meta && (\r\n          uploadResponse.meta.upload_id || \r\n          uploadResponse.meta.uploadId || \r\n          uploadResponse.meta.id\r\n        ));\r\n\r\n      console.log('Extracted upload ID:', currentUploadId);\r\n\r\n      if (!currentUploadId) {\r\n        throw new Error('Upload ID not returned by server. Response: ' + JSON.stringify(uploadResponse));\r\n      }\r\n\r\n      // Store the upload ID for later use\r\n      setUploadId(currentUploadId);\r\n\r\n      // Start generation with progress updates\r\n      setProgress(30);\r\n      setProgressText('Starting timetable generation...');\r\n\r\n      const progressCallback = (progressData) => {\r\n        console.log('Progress update:', progressData);\r\n        if (!progressData) return;\r\n        \r\n        const pct = typeof progressData.percentage === 'number' ? progressData.percentage : null;\r\n        if (pct !== null) {\r\n          const clampedProgress = Math.min(Math.max(pct, 30), 95); // Keep between 30-95%\r\n          setProgress(clampedProgress);\r\n        }\r\n        \r\n        if (progressData.message) {\r\n          setProgressText(progressData.message);\r\n        }\r\n      };\r\n\r\n      // Generate timetable using the upload ID\r\n      console.log('Generating timetable with ID:', currentUploadId);\r\n      const timetableData = await generateTimetable(currentUploadId, progressCallback);\r\n      console.log('Timetable generation completed:', timetableData);\r\n\r\n      // Extract timetables from response - handle different response formats\r\n      let timetables = [];\r\n      \r\n      if (timetableData) {\r\n        // Try different possible locations for timetable data\r\n        timetables = \r\n          timetableData.timetables || \r\n          timetableData.data?.timetables || \r\n          timetableData.results || \r\n          (Array.isArray(timetableData) ? timetableData : []);\r\n      }\r\n\r\n      console.log('Extracted timetables:', timetables);\r\n\r\n      // Validate the timetables data\r\n      if (!Array.isArray(timetables)) {\r\n        console.warn('Timetables is not an array, converting:', timetables);\r\n        timetables = timetables ? [timetables] : [];\r\n      }\r\n\r\n      // Set final progress and results\r\n      setProgress(100);\r\n      setProgressText('Complete!');\r\n      setGeneratedData(timetables);\r\n\r\n      // Show completion message briefly\r\n      setTimeout(() => {\r\n        setIsProcessing(false);\r\n        setProgress(0);\r\n        setProgressText('');\r\n        // Do not set an error if empty; allow Dash UI to open and guide the user\r\n      }, 1500);\r\n\r\n    } catch (err) {\r\n      console.error('Timetable generation error:', err);\r\n      \r\n      // Handle different error formats\r\n      let errorMessage = 'An error occurred while generating the timetable';\r\n      \r\n      if (err?.response?.data?.error) {\r\n        errorMessage = err.response.data.error;\r\n      } else if (err?.response?.data?.message) {\r\n        errorMessage = err.response.data.message;\r\n      } else if (err?.message) {\r\n        errorMessage = err.message;\r\n      }\r\n\r\n      setError(errorMessage);\r\n      setIsProcessing(false);\r\n      setProgress(0);\r\n      setProgressText('');\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (format) => {\r\n    if (!uploadId) {\r\n      setError('No timetable data available for download - missing upload ID');\r\n      return;\r\n    }\r\n    \r\n    if (generatedData.length === 0) {\r\n      setError('No timetable data available for download - no generated data');\r\n      return;\r\n    }\r\n\r\n    console.log(`Starting download: ${format} format for upload ID: ${uploadId}`);\r\n\r\n    try {\r\n      await downloadTimetable(uploadId, format);\r\n      console.log('Download completed successfully');\r\n    } catch (err) {\r\n      console.error('Download error:', err);\r\n      \r\n      let errorMessage = 'An error occurred while downloading';\r\n      \r\n      if (err?.response?.data?.error) {\r\n        errorMessage = err.response.data.error;\r\n      } else if (err?.response?.data?.message) {\r\n        errorMessage = err.response.data.message;\r\n      } else if (err?.message) {\r\n        errorMessage = err.message;\r\n      }\r\n      \r\n      setError(errorMessage);\r\n    }\r\n  };\r\n\r\n  // Debug log for component state\r\n  console.log('TimetableGenerator state:', {\r\n    selectedFile: selectedFile?.name,\r\n    uploadId,\r\n    isProcessing,\r\n    progress,\r\n    generatedDataLength: generatedData.length,\r\n    error\r\n  });\r\n\r\n  return (\r\n    <div className=\"timetable-generator\">\r\n      <Header\r\n        onShowInstructions={() => setShowInstructions(true)}\r\n        onDownload={handleDownload}\r\n        canDownload={generatedData.length > 0 && uploadId && !isProcessing}\r\n      />\r\n\r\n      <main className=\"main-container\">\r\n        <FileUpload\r\n          selectedFile={selectedFile}\r\n          onFileSelect={handleFileSelect}\r\n          onFileReset={handleFileReset}\r\n          onGenerate={handleGenerate}\r\n          isProcessing={isProcessing}\r\n          progress={progress}\r\n          progressText={progressText}\r\n          error={error}\r\n        />\r\n\r\n        {uploadId && !isProcessing && (\r\n          <TimetableResults uploadId={uploadId} />\r\n        )}\r\n\r\n        {error && (\r\n          <div className=\"error-message\" style={{ \r\n            color: '#dc3545', \r\n            backgroundColor: '#f8d7da',\r\n            border: '1px solid #f5c6cb',\r\n            borderRadius: '4px',\r\n            padding: '12px',\r\n            marginTop: '16px',\r\n            fontSize: '14px'\r\n          }}>\r\n            <strong>Error:</strong> {error}\r\n          </div>\r\n        )}\r\n      </main>\r\n\r\n      <InstructionsModal\r\n        isOpen={showInstructions}\r\n        onClose={() => setShowInstructions(false)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimetableGenerator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}